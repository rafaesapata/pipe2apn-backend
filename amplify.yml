version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Frontend not needed - this is a backend API"
    build:
      commands:
        - echo "No frontend build required"
  artifacts:
    baseDirectory: .
    files:
      - "**/*"
backend:
  phases:
    preBuild:
      commands:
        - nvm use
        - npm ci
    build:
      commands:
        - echo "Build completed"
        - echo "PORT environment variable is $PORT"
    postBuild:
      commands:
        - echo "Starting server..."
        - npm start &
  artifacts:
    baseDirectory: .
    files:
      - "**/*"
      - "node_modules/**/*"

